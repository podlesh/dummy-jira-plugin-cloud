<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="//aui-cdn.atlassian.com/aui-adg/5.9.12/css/aui.min.css" media="all">
</head>
<body class="aui-page-hybrid">

<section id="content" role="main">
    <div class="aui-page-panel ac-content">
        <div class="aui-page-panel-inner">
            <section class="aui-page-panel-content">
                <div id="issues-in-project" class="aui-item">
                    <h1>Dashboard!</h1>
                </div>
            </section>
        </div>
    </div>
</section>

<script id="connect-loader" data-options="sizeToParent:true;">
    (function() {
        var getUrlParam = function (param) {
            var codedParam = (new RegExp(param + '=([^&]*)')).exec(window.location.search)[1];
            return decodeURIComponent(codedParam);
        };

        var baseUrl = getUrlParam('xdm_e') + getUrlParam('cp');
        var options = document.getElementById('connect-loader').getAttribute('data-options');

        var script = document.createElement("script");
        script.src = baseUrl + '/atlassian-connect/all.js';

        if(options) {
            script.setAttribute('data-options', options);
        }

        document.getElementsByTagName("head")[0].appendChild(script);
    })();

    function doSomething() {
        AP.require('request', function(request) {
            request({
                url: '/rest/api/latest/project',
                success: function(response) {
                    // convert the string response to JSON
                    response = JSON.parse(response);

                    // dump out the response to the console
                    console.log(response);
                },
                error: function() {
                    console.log(arguments);
                }
            });
        });

    }
    
</script>

<button onclick="doSomething()">Test</button>

</body>
</html>